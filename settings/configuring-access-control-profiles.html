---
title:配置訪問控製配置文件
parent: Gallery Settings
description: In this topic you will learn how to configure access control profiles for a Gallery Portal Experience. You can control access based on IP address, single sign-on (SSO), or an access code. 
---

<article class="bcls-article">
  <h1>配置訪問控製配置文件</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <p>根據預設，當發佈圖庫入口網站體驗時，任何擁有該網站 URL 的人都可以存取該網站。您可以建立存取控制設定檔，以限制存取圖庫入口網站體驗。存取控制設定檔會建立為資源庫設定的一部分，然後將設定檔指派給網站。您可以建立存取控制設定檔，根據下列項目來限制存取：</p>
    <ul>
      <li><a href="#ip">IP地址</a></li>
      <li><a href="#sso">單點登錄</a></li>
      <li><a href="#accesscode">訪問代碼</a></li>
    </ul>
    <p>請注意，圖庫門戶網站體驗只能使用單個訪問控製配置文件進行配置。每個訪問控製配置文件只能具有一種訪問限制類型。例如，無法創建同時使用IP地址和訪問代碼的配置文件。同樣，當使用單點登錄時，每個配置文件只能配置一個身份提供程序。</p>
    <p>若要建立存取控制設定檔，請依照下列步驟執行：</p>
    <ol class="bcls-tasklist-restart">
      <li>開啟「  圖庫」  模組。</li>
      <li>點擊<strong>設定值</strong>畫廊主頁上的鏈接。</li>
      <li>在左側導航中，單擊<strong>訪問控製配置文件</strong>。將會顯示建立的「存取控制設定檔」清單。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="profiles list" src="/assets/images/settings/node16450-access-control-list.png" /></figure>
        <aside class="bcls-aside bcls-aside--information">筆記：您可能會在您的帳戶中看到未建立的存取控制設定檔。如果您在 Gallery 實施訪問控製配置文件之前為站點配置了 IP 限制、SSO 或訪問代碼，則在發布該功能時，這些設置已保存為訪問控製配置文件。</aside>
      </li>
      <li>點擊<strong>創建個人資料</strong>。</li>
      <li>給個人資料一個<strong>名稱</strong>。</li>
      <li><strong>（可選的）</strong>配置一個<strong>會話超時</strong>指定用戶會話將持續的時間。一些注意事項：
        <ul>
          <li>使用 SSO 和存取碼時，會套用此設定</li>
          <li>這是一個「閒置超時」。每當圖庫服務器被擊中（通過加載網站上的頁面或通過 API 調用到網站），計時器將被重置。這可讓檢視者持續瀏覽超過指定的逾時時間，但只要閒置超過逾時時間，就會登出。觀看影片時，圖庫伺服器不會被存取，因此逾時值應該比您最長的影片還要長。</li>
          <li>您的 SSO 提供者必須設定為強制重新驗證，或是工作階段逾時時間小於我們的逾時。如果不是，我們會在超時後重新導向到您的 SSO 提供者，他們將立即發出用戶登錄的響應。</li>
        </ul>
      </li>
      <li>選擇選項以保護站點。<strong>每個訪問控製配置文件只能選擇一個選項</strong>：
        <ul>
          <li><a href="#ip">IP地址</a></li>
          <li><a href="#sso">單點登錄</a></li>
          <li><a href="#accesscode">訪問代碼</a></li>
        </ul>
      </li>
      <li>點擊<strong>保存</strong>。</li>
      <li>視需要建立其他存取控制設定檔。</li>
    </ol>
    <p>若要編輯或刪除存取控制設定檔，請按一下<img alt="edit icon" src="/assets/images/settings/node16450-edit-icon.png" />) 或刪除 (<img alt="delete icon" src="/assets/images/settings/node16450-delete-icon.png" />) 與存取控制設定檔相關聯的按鈕。建立存取控制設定檔後，即可將它們指定給場地，做為場地內容的一部分。有關信息，請參閱<a href="/experiences/portal/controlling-access-portal-experience.html">控制對門戶體驗的訪問</a>。</p>
  </section>
  <section class="bcls-section">
    <h2 id="ip">設定 IP 限制</h2>
    <p>建立使用 IP 限制的存取控制設定檔時，使用 IP 位址超出預先定義範圍的檢視者嘗試存取網站時，會收到錯誤訊息。</p>
    <p>若要將存取控制設定檔設定為使用 IP 限制，請依照下列步驟執行：</p>
    <ol class="bcls-tasklist-restart">
      <li>選擇<strong>受IP地址限制</strong>選項。</li>
      <li>輸入可存取站台的 IP 位址範圍。<a href="http://tools.ietf.org/html/rfc4632">CIDR塊符號</a>也受支持。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="configure ip address" src="/assets/images/settings/node16450-ip-address.png" /></figure>
      </li>
      <li>點擊<strong>保存</strong>。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="sso">設定單一登入</h2>
    <p>建立使用 SSO 的存取控制設定檔時，會提示網站訪客使用有效的認證登入，然後才能存取網站。資源庫支援安全性宣告標記語言 2.0 (SAML 2.0) 標準，用於在安全性網域之間交換驗證和授權資料。</p>
    <p>圖庫支援大多數主要身分識別提供者，包括：</p>
    <ul>
      <li>平</li>
      <li>一次登入</li>
      <li>地址 2.0/3.0</li>
      <li>谷歌 G 套件</li>
      <li>希伯雷斯</li>
      <li>奧克塔</li>
      <li>銷售專業網</li>
    </ul>
    <p>使用 SAML 2.0 標準的其他提供者也可以運作。畫廊使用<a href="https://github.com/bergie/passport-saml">護照</a>圖書館。資源庫不支援無法與此程式庫搭配使用的身分識別提供者。</p>
    <aside class="bcls-aside bcls-aside--information">筆記：資源庫需要 SAML 2.0 才能進行單一登入驗證。不支持 SAML 1.1。</aside><aside class="bcls-aside bcls-aside--information">筆記：我們只支持單字節字符。</aside><aside class="bcls-aside bcls-aside--information">筆記：Gallery 僅支持身份提供者發起 (IDP) SAML 流。不支持服務提供商發起的流。</aside>
    <p>您的 SSO 提供者將需要判斷提示取用者服務 URL (ACS URL)。ACS URL 會列在「存取控制設定檔」表格的 SSO 段落中。</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="acs url" src="/assets/images/settings/node16450-acs-url.png" /></figure>
    <p>ACS URL默認為<code translate="No">https://auth.bcvp0rtal.com/login/callback</code>。您也可以提供自己的 URL 來覆寫 ACS URL。這兩個選項都可用於設定更嚴格的 SSO 提供者。對於現有網站，<code translate="No">http(s)://&lt;site-root-url&gt;/login/callback</code>仍然可以使用，但Brightcove建議發布者使用<code translate="No">https://auth.bcvp0rtal.com/login/callback</code>。此端點會針對任何使用網域路徑的網站，負責將 SAML 資料轉送至正確的站台。</p>
    <aside class="bcls-aside bcls-aside--information">筆記：使用 IDP 起始的 SSO 工作流程時，SSO 軟體中指定的 ACS URL 應該指向使用該存取控制設定檔設定的資源庫網站。在這種情況下，<code translate="No">https://auth.bcvp0rtal.com/login/callback</code>不應使用 URL。</aside>
    <p>若要設定存取控制設定檔使用 SSO，請依照下列步驟執行：</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="configure sso" src="/assets/images/settings/node16450-sso.png" /></figure>
    <ol class="bcls-tasklist-restart">
      <li>選擇<strong>單點登錄</strong>選項。</li>
      <li>如果您具有SAML 2.0元數據的導出文件，請單擊<strong>選擇文件</strong>瀏覽並選擇元數據文件。這將預填充<strong>SAML 2.0端點</strong>和<strong>X.509證書</strong>領域。</li>
      <li>輸入一個值<strong>SAML 2.0端點（HTTP）</strong>。您的 SAML 提供者應該可以使用此值。</li>
      <li>輸入一個值<strong>X.509證書</strong>。您的 SAML 提供者應該可以使用此值。</li>
      <li>（可選）輸入<strong>SAML頒發者/實體ID覆蓋</strong>。在此輸入值以選擇性地覆寫 SAML 發行者。</li>
      <li>（可選）輸入<strong>ACS URL覆蓋</strong>。在此輸入值以選擇性地覆寫 ACS URL。</li>
      <li>（可選）輸入<strong>SAML AuthnContext覆蓋</strong>。在此輸入值以選擇性地覆寫 SAML 認證內容。</li>
      <li>（可選）選擇禁用<strong>默認AuthnContext</strong>。默認情況下，對於SSO配置文件，Gallery將發送PasswordProtectedTransport作為SAML身份驗證上下文。有時，身份提供程序不支持此功能。選中此選項後，Gallery將不會發送身份驗證上下文請求。</li>
      <li>(選擇性) 輸入您要傳遞至外部 JavaScript 的任何 SAML 屬性。</li>
      <li>（可選）檢查<strong>公開所有屬性</strong>公開所有SAML屬性以在外部JavaScript中使用。</li>
      <li>點擊<strong>保存</strong>。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="accesscode">設定存取碼</h2>
    <p>當網站套用存取碼時，系統會提示檢視者在存取網站 URL 時提供正確的存取碼。</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="access code prompt" src="/assets/images/settings/node16450-access-code-prompt.png" /></figure>
    <p>如果輸入的存取碼不正確，檢視器將會收到錯誤訊息。訪問代碼是限制訪問一個站點的好方法，當它正在建設中。存取碼不提供任何網站安全性或驗證。</p>
    <p>若要設定存取控制設定檔使用存取碼，請依照下列步驟執行：</p>
    <ol class="bcls-tasklist-restart">
      <li>選擇<strong>要求訪問代碼</strong>選項。</li>
      <li>輸入<strong>訪問代碼</strong>該網站。</li>
      <li>輸入<strong>訪問代碼標籤</strong>。這<strong>訪問代碼標籤</strong>將出現在用戶將輸入其訪問代碼的上方。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="configure access code" src="/assets/images/settings/node16450-access-code1.png" /></figure>
      </li>
      <li>（可選的）<a href="#style">設置訪問控制頁面的樣式</a>。</li>
      <li>點擊<strong>保存</strong>。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="style">設定存取控制頁面樣式</h2>
    <p>您可以將存取控制頁面設定為更符合整體網站外觀的樣式。資源庫提供三種樣式選項：</p>
    <ul>
      <li><a href="#defaultstyle">默認</a></li>
      <li><a href="#imageborder">圖像和邊框</a></li>
      <li><a href="#custom">風俗</a></li>
    </ul>
    <h3 id="defaultstyle">預設型式</h3>
    <p>使用預設樣式選項、圖片庫標誌、存取碼標籤和存取碼欄位將永遠顯示出來。</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="access code prompt" src="/assets/images/settings/node16450-access-code-prompt.png" /></figure>
    <h3 id="imageborder">影像和邊框樣式</h3>
    <p>「影像與邊框」選項允許存取控制頁面進行一些基本自訂。一個例子可以在下面看到。</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="image border example" src="/assets/images/settings/node16450-image-border-example.png" /></figure>
    <p>若要自訂影像和框線樣式，請依照下列步驟執行：</p>
    <ol class="bcls-tasklist-restart">
      <li>選擇<strong>圖像和邊框</strong>。</li>
      <li>拖放、瀏覽或新增影像的連結，以便在存取控制頁面上顯示。</li>
      <li>進入一個<strong>點擊後到達網址</strong>。這<strong>點擊後到達網址</strong>將使圖像成為可點擊的鏈接。</li>
      <li>單擊顏色選擇器以選擇一個<strong>標頭邊框顏色</strong>。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="image border properties" src="/assets/images/settings/node16450-image-border-props.png" /></figure>
      </li>
      <li>點擊<strong>保存</strong>。</li>
    </ol>
    <h3 id="custom">自訂樣式</h3>
    <p>這<strong>風俗</strong>樣式選項允許對訪問控制頁面進行更高級的自定義。一個例子可以在下面看到。</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="custom example" src="/assets/images/settings/node16450-custom-example.png" /></figure>
    <p>要使用<strong>風俗</strong>選項，請按照以下步驟操作：</p>
    <ol class="bcls-tasklist-restart">
      <li>選擇<strong>風俗</strong>。</li>
      <li>輸入頁首和頁尾的自訂 HTML。
        <figure class="bcls-figure"><img class="bcls-image--no-border" alt="custom properties" src="/assets/images/settings/node16450-custom-props.png" /></figure>
      </li>
      <li>點擊<strong>保存</strong></li>
    </ol>
  </section>
</article>