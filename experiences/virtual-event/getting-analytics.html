---
title:導出虛擬事件查看器數據
description:本主題說明如何使用 Analytics API 導出虛擬事件的虛擬事件查看器數據。
parent: Virtual Event 
grandparent: Experiences
description: In this topic you will learn how to export virtual event viewer data.
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">簡介</h2>
		<p>除了特定帳戶的帳戶，查看器和視頻分析之外，您還可以按設備和位置匯總查看虛擬事件的報告事件。此信息可以幫助您更好地組織即將到來的虛擬事件，以最大程度地提高觀眾的參與度。</p>
		<p>可以使用Analytics API下載此數據，並可以JSON，CSV或XLXS格式返回這些數據。下一節將簡要介紹Analytics API。如果您已經知道如何使用它，則可以跳至以下部分，以獲取有關獲取虛擬事件的分析數據的信息。</p>
  </section>
	<section class="bcls-section">
		<h2 id="Analytics_API">Analytics API</h2>
		<p>像其他<a href="https://apis.support.brightcove.com/">平台API</a>，Analytics API是RESTful API，可讓您以編程方式與Video Cloud平台進行交互。它基於請求中包含的各種URL參數返回分析數據。默認情況下，數據以JSON格式返回，但是您可以請求在電子表格應用中打開CSV或XLXS數據。</p>
		<aside class="bcls-aside bcls-aside--information">請注意，本文檔僅涵蓋獲取虛擬事件分析數據所需了解的內容。如需其他用途，請參閱一般<a href="https://apis.support.brightcove.com/analytics-api/index.html">分析 API 文件</a>。</aside> 
		<h3>如何提出要求</h3>
		<p>對RESTful API的請求是對URL進行的，就像瀏覽器對URL進行請求以檢索網頁一樣。但是，您不能簡單地將API請求粘貼到瀏覽器中，因為必須對請求進行身份驗證（我們將對此進行驗證）以表明您有權獲取數據。但是，有許多工具可以幫助您做到這一點。這是一個簡短的清單：</p>
		<ul>
			<li><a href="https://apis.support.brightcove.com/general/use-insomnia-api-requests.html">失眠</a>（流行的跨平台應用）</li>
			<li><a href="https://apis.support.brightcove.com/general/use-postman-api-requests.html">郵差</a>（另一個流行的跨平台應用程序）</li>
			<li><a href="https://apis.support.brightcove.com/general/concepts-api-tester.html">在線API測試儀</a>由Brightcove學習服務創建</li>
			<li><a href="https://apis.support.brightcove.com/getting-started/concepts-testing-tools-brightcove-apis.html#shell">api-tester.sh</a>（由Brightcove學習服務創建的基於curl的shell腳本）</li>
		</ul>
		<h3>驗證請求</h3>
		<p>為了保護您的數據，Analytics API請求必須包含包含訪問令牌的Authorization標頭：</p>
		<pre><code class="language-http" translate="No">Authorization: bearer <span class="bcls-input">your access token</span></code></pre>
		<p>您如何獲得訪問令牌？您可以在其中閱讀所有內容<a href="https://apis.support.brightcove.com/oauth/guides/getting-access-tokens.html">獲取訪問令牌</a>，但簡短的答案是，在您進行了一些準備之後，上面列出的任何工具（以及許多其他工具）都會為您提供幫助。</p>
		<p>準備工作包括獲得<strong>客戶憑證</strong> , 由一個<code translate="no">客戶編號</code>和一個<code translate="no">客戶秘密</code> .您可以使用<a href="https://studio.brightcove.com/products/videocloud/admin/oauthsettings">Studio管理頁面</a>（您必須是帳戶的管理員或由管理員來執行此操作）：</p>
		<ol class="bcls-tasklist-restart">
			<li>點擊<span class="button-blue">註冊新申請</span>。</li>
			<li>在打開的對話框中，輸入“Analytics"作為名稱。</li>
			<li>選擇您要使用該API的帳戶。</li>
			<li>
				在下面<strong>公開的Brightcove API</strong>， 選擇<strong>讀</strong>在下面<strong>分析工具</strong>和<strong>視頻閱讀</strong>在下面<strong>內容管理系統</strong>：
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/experiences/virtual-event/analytics-api-permissions.png" alt="API Permissions">
					<figcaption class="bcls-caption--image">API 權限</figcaption>
				</figure>
			</li>
			<li>點擊<span class="button-blue">保存</span>。</li>
			<li>
				一個新的對話框將顯示<strong>客戶編號</strong><strong>客戶機密</strong>。將它們都複製並保存在安全的地方，您可以再次找到它們。<aside class="bcls-aside bcls-aside--warning">關閉此對話框後，將無法再次檢索此客戶端機密。如果丟失，則需要創建一個新的。</aside>
			</li>
		</ol>
		<h3>訪問令牌</h3>
		<p>使用客戶端憑據從另一個Brightcove API檢索訪問令牌。您可以自己執行此操作，但是，上一節中列出的任何工具都將獲取您的客戶端憑據，並為您獲取訪問令牌，並將其放入與Analytics API請求一起發送的請求標頭中。</p>
	</section>
  <section class="bcls-section">
    <h2 id="API_request">Analytics API請求</h2>
    <p>這是Analytics API請求的形式：</p>
    <pre><code class="language-http" translate="No">http://analytics.api.brightcove.com/v1/data?accounts=<span class="bcls-input">{account1_id,account2_id}</span>
&from=<span class="bcls-highlight">{yyyy-mm-dd}</span>
&to=<span class="bcls-highlight">{yyyy-mm-dd}</span>
&dimensions=viewer,video,country,city,region,device_type,protocol
&fields=video,video.name,viewer,country,region,city,device_type,time,video_view,video_percent_viewed,video_seconds_viewed
&sort=-video_view&limit=20&format=csv</code></pre>
		<aside class="bcls-aside bcls-aside--information">請注意，請求 URL 中不應有換行符！此處添加換行符以提高可讀性。</aside>
		<h3>必填參數</h3>
		<table class="bcls-table">
			<caption class="bcls-caption--table">必填參數</caption>
			<thead class="bcls-table__head">
					<tr>
							<th>範圍</th>
							<th>必要值</th>
							<th>可選值</th>
					</tr>
			</thead>
			<tbody class="bcls-table__body">
					<tr>
							<td><code translate="no">帳戶</code></td>
							<td>一個或多個帳戶ID</td>
							<td></td>
					</tr>
					<tr>
							<td><code translate="no">方面</code></td>
							<td>
								<ul>
									<li><code translate="no">觀眾</code></li>
									<!-- <li><code translate="no">application</code></li> -->
								</ul>
							</td>
							<td>
								<ul>
									<li><code translate="no">帳戶</code></li>
									<li><code translate="no">視頻</code></li>
									<li><code translate="no">國家</code></li>
									<li><code translate="no">地區</code></li>
									<li><code translate="no">城市</code></li>
									<li><code translate="no">設備類型</code></li>
									<li><code translate="no">協議</code></li>
								</ul>
							</td>
					</tr>
			</tbody>
	</table>
	<p>看<a href="https://apis.support.brightcove.com/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#params">參數</a>有關一些其他可選參數的信息，這些參數可用於設置日期範圍，對結果進行排序，設置響應格式等。</p>

  </section>
	<section class="bcls-section">
		<h2 id="where_filters">哪裡過濾</h2>
		<p>您可以使用<code translate="no">在哪裡</code>範圍。看<a href="https://apis.support.brightcove.com/analytics/getting-started/analytics-api-overview-dimensions-fields-and-parameters.html#filterValues">哪裡過濾</a>詳情</p>
	</section>
	<section class="bcls-section">
		<h2 id="fields">領域</h2>
		<h3>直接從播放器收集</h3>
		<ul>
			<li><code translate="no">觀眾</code>：事件查看器（SSO ID 或設備 ID 或基於用戶代理和 IP 的唯一字符串），取自<code translate="no">用戶</code>場地</li>
			<!-- <li><code translate="no">application</code>: virtual event experience id, if null default value = <code translate="no">account_id</code></li> -->
			<li><code translate="no">時間</code> : 收到的最後一個事件的時間戳</li>
			<li><code translate="no">視頻</code></li>
			<li><code translate="no">國家</code></li>
			<li><code translate="no">地區</code></li>
			<li><code translate="no">城市</code></li>
			<li><code translate="no">設備類型</code></li>
		</ul>
		<h3>匯總指標</h3>
		<ul>
			<li><code translate="no">視頻視圖</code> : 總次數<code translate="no">視頻視圖</code>由玩家發送（注意<code translate="no">視頻視圖</code>是<strong>不是</strong>當觀看者暫停並重新播放視頻或多次觀看視頻而不刷新頁面時發送）</li>
		</ul>
		<h3>計算字段</h3>
		<ul>
			<li>
				<code translate="no">video_seconds_viewed</code>：
				<ul>
					<li>無論順序如何，Collector API收到的最高範圍值</li>
					<li>請注意，描述超過20秒範圍的事件被Google Analytics（分析）系統丟棄，如果未正確配置播放器發送20秒或更短範圍的信號，則可能導致值不正確-請參閱<a href="https://apis.support.brightcove.com/data-collection/overview-data-collection-api-v2.html">概述：資料收集API</a></li>
				</ul>
			</li>
			<li><code translate="no">video_percent_viewed</code> : video_seconds_viewed/video_duration *100（如果視頻時長沒有發送到數據收集器，這個值將丟失或不准確）</li>
			<li><code translate="no">video_engagement_xx</code>：xx video_percent_viewed（xx = 1、25、50、75 或 100）的總觀看次數</li>
		</ul>
		<details>
			<summary>示例API響應（JSON）</summary>
<pre><code class="language-json" translate="no">{ 4 "item_count": 1, 5 "items": [ 6 { 7 "viewer": "test@brightcove.com", 8 "country": "GB", 9 "video_seconds_viewed": 253, 10 "city": "London", 11 "video_percent_viewed": 527.08, 12 "device_type": "other", 13 "video": "70701475639202", 14 "video_view": 46, 15 "region": "GB-ENG" 16 } 17]、18“總結”：{ 19 "video_seconds_viewed": 253, 20 "video_percent_viewed": 527.08, 21 "video_view": 46 22 } 23}</code></pre>
		</details>
	</section>
</article>